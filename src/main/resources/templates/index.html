<!DOCTYPE html>
<html layout:decorate="~{common/base}" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">

<div layout:fragment="content">
    <!-- Hero Section -->
    <section class="hero-section position-relative">
        <div class="hero-background"></div>
        <div class="hero-overlay"></div>
        <div class="container position-relative">
            <div class="row min-vh-100 align-items-center">
                <div class="col-lg-6">
                    <div class="hero-content text-white">
                        <h1 class="display-4 fw-bold mb-4" th:text="#{main.hero.title}">
                            Эндуро приключения в горах
                        </h1>
                        <p class="lead mb-4" th:text="#{main.hero.subtitle}">
                            Испытайте адреналин на профессиональных мотоциклах с опытным гидом
                        </p>
                        <a th:href="@{/booking}" class="btn btn-primary btn-lg">
                            <i class="fas fa-calendar-plus me-2"></i>
                            <span th:text="#{main.hero.cta}">Забронировать заезд</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Bikes Section -->
    <section class="py-5 bg-light">
        <div class="container">
            <div class="text-center mb-5">
                <h2 class="display-6 fw-bold" th:text="#{section.bikes.title}">Наши мотоциклы</h2>
                <p class="lead text-muted" th:text="#{section.bikes.subtitle}">Профессиональная техника для любого уровня</p>
            </div>

            <div class="position-relative" data-carousel>
                <!-- Prev button -->
                <button class="btn btn-outline-secondary position-absolute top-50 start-0 translate-middle-y"
                        type="button" aria-label="Previous" data-carousel-prev
                        style="z-index: 2;">
                    <i class="fas fa-chevron-left"></i>
                </button>

                <!-- Next button -->
                <button class="btn btn-outline-secondary position-absolute top-50 end-0 translate-middle-y"
                        type="button" aria-label="Next" data-carousel-next
                        style="z-index: 2;">
                    <i class="fas fa-chevron-right"></i>
                </button>

                <!-- Track -->
                <div class="d-flex flex-nowrap overflow-auto gap-4 px-5" data-carousel-track>
                    <div class="flex-shrink-0" style="min-width: 300px;" th:each="bike : ${bikes}">
                        <div class="card h-100 shadow-sm hover-card">
                            <!-- Bike Image -->
                            <div class="card-img-top bike-image d-flex align-items-center justify-content-center">
<!--                                 th:classappend="${bike.engineCc >= 250} ? 'bg-primary' : (${bike.engineCc >= 125} ? 'bg-success' : 'bg-warning')">-->
                                <img th:if="${bike.photoPath != null}"
                                     th:src="@{${bike.photoPath}}"
                                     alt="Bike photo"
                                     class="img-fluid"
                                     style="max-height: 200px; object-fit: cover;">
                                <i th:unless="${bike.photoPath != null}"
                                   class="fas fa-motorcycle fa-3x text-white"></i>
                            </div>

                            <!-- Bike Details -->
                            <div class="card-body text-center">
                                <h5 class="card-title" th:text="${bike.brand + ' ' + bike.model}">модель</h5>

                                <!-- Engine CC -->
                                <p class="card-text text-muted mb-2">
                                    <span th:text="${bike.engineCc}">объём</span>
                                    <span th:text="#{bike.cc}">куб.см</span>
                                </p>

                                <!-- Limits Description -->
                                <p class="card-text text-muted small" th:if="${bike.limits != null}">
                                    <!-- Age -->
                                    <span th:text="#{bike.from.age}">от</span>
                                    <span th:text="${bike.limits.ageMin}">16</span>
                                    <span th:text="#{bike.years}">лет</span>

                                    <!-- Height -->
                                    <span th:if="${bike.limits.heightMax != null && bike.limits.heightMax > 0}">
                                        , <span th:text="#{bike.height}">рост</span>
                                        <span th:text="${bike.limits.heightMin + '–' + bike.limits.heightMax}">140–155</span> см
                                    </span>
                                    <span th:unless="${bike.limits.heightMax != null && bike.limits.heightMax > 0}">
                                        , <span th:text="#{bike.height}">рост</span>
                                        <span th:text="#{bike.from.age}">от</span>
                                        <span th:text="${bike.limits.heightMin}">165</span> см
                                    </span>

                                    <!-- Only Men -->
                                    <span th:if="${bike.limits.onlyMen}">
                                        , <span th:text="#{bike.only.men}">только для мужчин</span>
                                    </span>
                                </p>

                                <!-- Bike Brand Badge -->
                                <span class="badge"
                                      th:classappend="${bike.engineCc >= 250} ? 'bg-custom-success' : (${bike.engineCc <= 125} ? 'bg-custom-primary' : 'bg-custom-warning')"
                                      th:text="${bike.engineCc >= 250} ? #{bike.type.enduro} : (${bike.engineCc <= 125} ? #{bike.type.pitbike} : #{bike.type.pitbike})">
                                </span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Routes Section -->
    <section class="py-5">
        <div class="container">
            <div class="text-center mb-5">
                <h2 class="display-6 fw-bold" th:text="#{section.routes.title}">Маршруты</h2>
                <p class="lead text-muted" th:text="#{section.routes.subtitle}">Выберите свое приключение</p>
            </div>

            <div class="row g-4">
                <div class="col-lg-4">
                    <div class="card route-card h-100 shadow-sm position-relative overflow-hidden">
                        <div class="route-image bg-success"></div>
                        <div class="card-img-overlay d-flex flex-column justify-content-end">
                            <div class="route-info bg-white bg-opacity-90 p-3 rounded">
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <h5 class="card-title mb-0" th:text="#{route.easy}">Легкий</h5>
                                    <span class="badge bg-success">15 км</span>
                                </div>
                                <p class="card-text">
                                    <span th:text="#{route.from}">от</span> 50
                                    <span th:text="#{route.currency}">₽</span>
                                </p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-lg-4">
                    <div class="card route-card h-100 shadow-sm position-relative overflow-hidden">
                        <div class="route-image bg-warning"></div>
                        <div class="card-img-overlay d-flex flex-column justify-content-end">
                            <div class="route-info bg-white bg-opacity-90 p-3 rounded">
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <h5 class="card-title mb-0" th:text="#{route.medium}">Средний</h5>
                                    <span class="badge bg-warning text-dark">25 км</span>
                                </div>
                                <p class="card-text">
                                    <span th:text="#{route.from}">от</span> 75
                                    <span th:text="#{route.currency}">₽</span>
                                </p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-lg-4">
                    <div class="card route-card h-100 shadow-sm position-relative overflow-hidden">
                        <div class="route-image bg-danger"></div>
                        <div class="card-img-overlay d-flex flex-column justify-content-end">
                            <div class="route-info bg-white bg-opacity-90 p-3 rounded">
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <h5 class="card-title mb-0" th:text="#{route.hard}">Сложный</h5>
                                    <span class="badge bg-danger">40 км</span>
                                </div>
                                <p class="card-text">
                                    <span th:text="#{route.from}">от</span> 100
                                    <span th:text="#{route.currency}">₽</span>
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Info Sections -->
    <section class="py-5 bg-light">
        <div class="container">
            <div class="row g-5">
                <!-- Age Restrictions -->
                <div class="col-lg-6">
                    <div class="info-block h-100">
                        <div class="text-center mb-4">
                            <i class="fas fa-users fa-3x text-primary mb-3"></i>
                            <h3 th:text="#{section.age.title}">Возрастные ограничения</h3>
                        </div>
                        <p class="text-muted" th:text="#{section.age.text}">
                            Принимаем участников от 12 лет. Для детей до 16 лет обязательно присутствие взрослого.
                        </p>
                    </div>
                </div>

                <!-- Equipment -->
                <div class="col-lg-6">
                    <div class="info-block h-100">
                        <div class="text-center mb-4">
                            <i class="fas fa-list-check fa-3x text-primary mb-3"></i>
                            <h3 th:text="#{section.equipment.title}">Что взять с собой</h3>
                        </div>
                        <ul class="list-unstyled">
                            <li class="mb-2">
                                <i class="fas fa-check text-success me-2"></i>
                                <span th:text="#{equipment.clothes}">Спортивная одежда</span>
                            </li>
                            <li class="mb-2">
                                <i class="fas fa-check text-success me-2"></i>
                                <span th:text="#{equipment.shoes}">Закрытая обувь</span>
                            </li>
                            <li class="mb-2">
                                <i class="fas fa-check text-success me-2"></i>
                                <span th:text="#{equipment.gloves}">Перчатки (по желанию)</span>
                            </li>
                            <li class="mb-2">
                                <i class="fas fa-check text-success me-2"></i>
                                <span th:text="#{equipment.water}">Питьевая вода</span>
                            </li>
                            <li class="mb-2">
                                <i class="fas fa-check text-success me-2"></i>
                                <span th:text="#{equipment.snack}">Легкий перекус</span>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Location Section -->
    <section class="py-5">
        <div class="container">
            <div class="text-center">
                <i class="fas fa-map-marker-alt fa-3x text-primary mb-3"></i>
                <h3 class="mb-3" th:text="#{section.location.title}">Где мы находимся</h3>
                <p class="text-muted mb-4" th:text="#{section.location.address}">г. Владикавказ, ул. Примерная, 123</p>
                <a href="https://2gis.ru" target="_blank" class="btn btn-outline-primary">
                    <i class="fas fa-external-link-alt me-2"></i>
                    <span th:text="#{section.location.cta}">Открыть в 2ГИС</span>
                </a>
            </div>
        </div>
    </section>
</div>

</html>